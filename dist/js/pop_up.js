function setCookie(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const a="expires="+o.toUTCString();document.cookie=e+"="+t+";"+a+";path=/",console.log("쿠키 생성됨:",e,"=",t)}function getCookie(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}const modal=document.querySelector(".pop-up"),closeIcon=modal.querySelector(".close-icon");function closeModal(){modal.className="ir-hidden"}function hideForToday(){setCookie("hideModalToday","true",1),modal.className="ir-hidden"}closeIcon.addEventListener("click",function(){modal.className="ir-hidden"}),window.closeModal=closeModal,window.hideForToday=hideForToday;const hideToday=getCookie("hideModalToday");"true"===hideToday&&setTimeout(function(){modal.className="ir-hidden",console.log("쿠키가 있어서 모달을 숨겼습니다.")},10);let currentSlide=0;const modalContainer=document.querySelector(".modal-container"),modalImages=document.querySelectorAll(".modal-container img"),totalSlides=modalImages.length;function updateModalSize(){const e=document.querySelector(".pop-up"),t=window.innerWidth;t<=480?(e.style.width="200px",e.style.height="260px"):t<=767?(e.style.width="300px",e.style.height="395px"):t<=991?(e.style.width="350px",e.style.height="440px"):t<=1199?(e.style.width="400px",e.style.height="500px"):(e.style.width="475px",e.style.height="590px")}function moveToSlide(e){currentSlide=e;const t=100*-currentSlide;modalContainer.style.transform=`translateX(${t}%)`,modalContainer.style.transition="transform 0.5s ease-in-out",updateIndicators()}function nextSlide(){moveToSlide(currentSlide<totalSlides-1?currentSlide+1:0)}function prevSlide(){moveToSlide(currentSlide>0?currentSlide-1:totalSlides-1)}let autoPlayInterval;function startAutoPlay(){autoPlayInterval=setInterval(()=>{nextSlide()},3e3)}function stopAutoPlay(){clearInterval(autoPlayInterval)}function createIndicators(){const e=document.querySelector(".pop-up"),t=document.createElement("div");t.className="modal-indicators";for(let e=0;e<totalSlides;e++){const n=document.createElement("span");n.className="indicator-dot",0===e&&n.classList.add("active"),n.onclick=()=>{stopAutoPlay(),moveToSlide(e),startAutoPlay()},t.appendChild(n)}e.appendChild(t)}function updateIndicators(){document.querySelectorAll(".indicator-dot").forEach((e,t)=>{t===currentSlide?e.classList.add("active"):e.classList.remove("active")})}let startX=0,currentX=0,isDragging=!1,startTransform=0;function handleDragStart(e){isDragging=!0,startX=e.clientX,startTransform=100*-currentSlide,modalContainer.style.transition="none",stopAutoPlay(),e.preventDefault()}function handleDragMove(e){if(!isDragging)return;currentX=e.clientX;const t=(currentX-startX)/modalContainer.offsetWidth*100;modalContainer.style.transform=`translateX(${startTransform+t}%)`}function handleDragEnd(e){if(!isDragging)return;isDragging=!1;const t=currentX-startX;modalContainer.style.transition="transform 0.5s ease-in-out",Math.abs(t)>50?t>0?prevSlide():nextSlide():moveToSlide(currentSlide),startAutoPlay()}function handleTouchStart(e){isDragging=!0,startX=e.touches[0].clientX,startTransform=100*-currentSlide,modalContainer.style.transition="none",stopAutoPlay()}function handleTouchMove(e){if(!isDragging)return;currentX=e.touches[0].clientX;const t=(currentX-startX)/modalContainer.offsetWidth*100;modalContainer.style.transform=`translateX(${startTransform+t}%)`}function handleTouchEnd(){if(!isDragging)return;isDragging=!1;const e=currentX-startX;modalContainer.style.transition="transform 0.5s ease-in-out",Math.abs(e)>50?e>0?prevSlide():nextSlide():moveToSlide(currentSlide),startAutoPlay()}document.addEventListener("DOMContentLoaded",()=>{updateModalSize(),createIndicators(),startAutoPlay(),modalContainer.querySelectorAll("img").forEach(e=>{e.addEventListener("dragstart",e=>e.preventDefault())}),modalContainer.addEventListener("mousedown",handleDragStart),document.addEventListener("mousemove",handleDragMove),document.addEventListener("mouseup",handleDragEnd),modalContainer.addEventListener("touchstart",handleTouchStart,{passive:!1}),modalContainer.addEventListener("touchmove",handleTouchMove,{passive:!1}),modalContainer.addEventListener("touchend",handleTouchEnd),window.addEventListener("resize",updateModalSize);const e=document.querySelector(".pop-up");e.addEventListener("mouseenter",stopAutoPlay),e.addEventListener("mouseleave",startAutoPlay)});